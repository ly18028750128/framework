/*
 Navicat Premium Data Transfer

 Source Server         : 309-mysql-192.168.30.96
 Source Server Type    : MySQL
 Source Server Version : 80027
 Source Host           : 192.168.30.96:10002
 Source Schema         : framework_tc

 Target Server Type    : MySQL
 Target Server Version : 80027
 File Encoding         : 65001

 Date: 24/06/2022 10:26:50
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for t_email_template
-- ----------------------------
DROP TABLE IF EXISTS `t_email_template`;
CREATE TABLE `t_email_template`  (
  `template_id` bigint NOT NULL AUTO_INCREMENT,
  `template_code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '模板编码',
  `language` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'zh_CN' COMMENT '语言，默认zh_CN',
  `subject` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '主题（变量用{{变量名}}，方便替换）',
  `from_address` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT '默认发送人(需要经过校验，暂时全局只有一个发送者，也就是配置的发送者)',
  `to_address` varchar(4000) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '默认接收人（多个请用,号分割）',
  `template_text` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL COMMENT '模板内容（thymeleaf模板）',
  `CC` varchar(4000) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT '抄送',
  `BCC` varchar(4000) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT '密送',
  `CREATED_BY` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '创建人',
  `CREATED_DATE` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `UPDATED_BY` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '更新人',
  `UPDATED_DATE` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`template_id`) USING BTREE,
  UNIQUE INDEX `udx_email_temlate`(`template_code`, `language`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of t_email_template
-- ----------------------------
INSERT INTO `t_email_template` VALUES (1, 'IP_LOGIN_LOCKER_EMAIL', 'zh_CN', 'ip: {{ip}} is locked!', NULL, '609925924@qq.com,longyou88888@126.com,com_unknow_first@126.com', '\r\n<div>\r\n    <div align=\"center\">\r\n        <div class=\"open_email\" style=\"margin-left: 8px; margin-top: 8px; margin-bottom: 8px; margin-right: 8px;\">\r\n            <div>\r\n                <br>\r\n                <span class=\"genEmailContent\">\r\n                    <div id=\"cTMail-Wrap\"\r\n                         style=\"word-break: break-all;box-sizing:border-box;text-align:center;min-width:320px; max-width:660px; border:1px solid #f6f6f6; background-color:#f7f8fa; margin:auto; padding:20px 0 30px; font-family:\'helvetica neue\',PingFangSC-Light,arial,\'hiragino sans gb\',\'microsoft yahei ui\',\'microsoft yahei\',simsun,sans-serif\">\r\n                        <div class=\"main-content\" style=\"\">\r\n                            <table style=\"width:100%;font-weight:300;margin-bottom:10px;border-collapse:collapse\">\r\n                                <tbody>\r\n                                <tr style=\"font-weight:300\">\r\n                                    <td style=\"width:3%;max-width:30px;\"></td>\r\n                                    <td style=\"max-width:600px;\">\r\n                                        <div id=\"cTMail-logo\" style=\"width:500px; height:25px;\">\r\n                                            <h1 th:text=\"${ip}+\',登录异常预警\'\" id=\"cTMail-title\" style=\"font-size: 20px; line-height: 36px; margin: 0px 0px 22px;\">\r\n                                                登录预警\r\n                                           </h1>\r\n                                        </div>\r\n                                        <p style=\"height:2px;background-color: #00a4ff;border: 0;font-size:0;padding:0;width:100%;margin-top:20px;\"></p>\r\n\r\n                                        <div id=\"cTMail-inner\" style=\"background-color:#fff; padding:23px 0 20px;box-shadow: 0px 1px 1px 0px rgba(122, 55, 55, 0.2);text-align:left;\">\r\n                                            <table style=\"width:100%;font-weight:300;margin-bottom:10px;border-collapse:collapse;text-align:left;\">\r\n                                                <tbody>\r\n                                                <tr style=\"font-weight:300\">\r\n                                                    <td style=\"width:3.2%;max-width:30px;\"></td>\r\n                                                    \r\n                                                    <td style=\"max-width:480px;text-align:left;\">\r\n\r\n                                                        <p th:text=\"\'最后登录IP：\' + ${ip}\" id=\"cTMail-userName\" style=\"font-size:14px;color:#333; line-height:24px; margin:0;\">\r\n                                                           ip\r\n                                                        </p>\r\n\r\n                                                        <p th:text=\"\'ip地址登录失败次数过多，用户将被锁定到\'+${unlockedDate}\" class=\"cTMail-content\" style=\"line-height: 24px; margin: 6px 0px 0px; overflow-wrap: break-word; word-break: break-all;\">\r\n                                                            <span style=\"color: red; font-size: 16px; font-weight: 700\">\r\n                                                               提示\r\n                                                            </span>\r\n                                                        </p>\r\n                                                    </td>\r\n                                                    <td style=\"width:3.2%;max-width:30px;\"></td>\r\n                                                </tr>\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td style=\"width:3%;max-width:30px;\"></td>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </span>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n', NULL, NULL, 'admin', '2022-06-23 09:54:27', 'admin', '2022-06-24 10:10:40');
INSERT INTO `t_email_template` VALUES (2, 'USER_LOGIN_LOCKER_EMAIL', 'zh_CN', 'User {{userName}} is locked!', NULL, '609925924@qq.com,longyou88888@126.com,com_unknow_first@126.com', '\r\n<div>\r\n    <div align=\"center\">\r\n        <div class=\"open_email\" style=\"margin-left: 8px; margin-top: 8px; margin-bottom: 8px; margin-right: 8px;\">\r\n            <div>\r\n                <br>\r\n                <span class=\"genEmailContent\">\r\n                    <div id=\"cTMail-Wrap\"\r\n                         style=\"word-break: break-all;box-sizing:border-box;text-align:center;min-width:320px; max-width:660px; border:1px solid #f6f6f6; background-color:#f7f8fa; margin:auto; padding:20px 0 30px; font-family:\'helvetica neue\',PingFangSC-Light,arial,\'hiragino sans gb\',\'microsoft yahei ui\',\'microsoft yahei\',simsun,sans-serif\">\r\n                        <div class=\"main-content\" style=\"\">\r\n                            <table style=\"width:100%;font-weight:300;margin-bottom:10px;border-collapse:collapse\">\r\n                                <tbody>\r\n                                <tr style=\"font-weight:300\">\r\n                                    <td style=\"width:3%;max-width:30px;\"></td>\r\n                                    <td style=\"max-width:600px;\">\r\n                                        <div id=\"cTMail-logo\" style=\"width:500px; height:25px;\">\r\n                                            <h1 th:text=\"${serviceName}+\'用户登录异常预警\'\" id=\"cTMail-title\" style=\"font-size: 20px; line-height: 36px; margin: 0px 0px 22px;\">\r\n                                                登录预警\r\n                                           </h1>\r\n                                        </div>\r\n                                        <p style=\"height:2px;background-color: #00a4ff;border: 0;font-size:0;padding:0;width:100%;margin-top:20px;\"></p>\r\n\r\n                                        <div id=\"cTMail-inner\" style=\"background-color:#fff; padding:23px 0 20px;box-shadow: 0px 1px 1px 0px rgba(122, 55, 55, 0.2);text-align:left;\">\r\n                                            <table style=\"width:100%;font-weight:300;margin-bottom:10px;border-collapse:collapse;text-align:left;\">\r\n                                                <tbody>\r\n                                                <tr style=\"font-weight:300\">\r\n                                                    <td style=\"width:3.2%;max-width:30px;\"></td>\r\n                                                    \r\n                                                    <td style=\"max-width:480px;text-align:left;\">\r\n\r\n\r\n                                                        <p th:text=\"\'用户名:\' + ${userName}\" id=\"cTMail-userName\" style=\"font-size:14px;color:#333; line-height:24px; margin:0;\">\r\n                                                           userName\r\n                                                        </p>\r\n\r\n\r\n                                                        <p th:text=\"\'最后登录IP：\' + ${ip}\" id=\"cTMail-userName\" style=\"font-size:14px;color:#333; line-height:24px; margin:0;\">\r\n                                                           ip\r\n                                                        </p>\r\n\r\n                                                        <p th:text=\"\'用户登录连续登录失败次数过多，用户将被锁定到\'+${unlockedDate}\" class=\"cTMail-content\" style=\"line-height: 24px; margin: 6px 0px 0px; overflow-wrap: break-word; word-break: break-all;\">\r\n                                                            <span style=\"color: red; font-size: 16px; font-weight: 700\">\r\n                                                               提示\r\n                                                            </span>\r\n                                                        </p>\r\n                                                    </td>\r\n                                                    <td style=\"width:3.2%;max-width:30px;\"></td>\r\n                                                </tr>\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td style=\"width:3%;max-width:30px;\"></td>\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </span>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>', NULL, NULL, 'admin', '2022-06-23 09:54:27', 'admin', '2022-06-24 10:10:49');

SET FOREIGN_KEY_CHECKS = 1;
